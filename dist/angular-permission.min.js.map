{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","PermTransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","isString","TypeError","isFunction","prototype","validatePermission","validationResult","call","PermRole","PermPermissionStore","Role","roleName","validateRole","map","hasPermissionDefinition","permission","getPermissionDefinition","all","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","$injector","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","$watchGroup","PermStateAuthorization","get","authorizeByStateName","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","length","onlyPromises","resolvedPermissions","rejectedPermission","authorize","PermissionMap","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","resolveRedirectState","privilegeName","role","$inject","module","exports","name","decorator","enableElement","removeAttr","disableElement","attr","removeClass","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}